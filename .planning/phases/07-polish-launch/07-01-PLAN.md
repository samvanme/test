# Plan 07-01: Polish & Launch Preparation

## Objective

Prepare the site for production launch with accessibility improvements, performance optimizations, SEO configuration, and deployment setup. Focus on launch-critical items; analytics and advanced optimizations can follow post-launch.

## Context

**Current State:**
- Build: ✅ Passes (356K bundle, 79K gzipped JS)
- Lint: ⚠️ 1 error (unused variable in DemoAgent.jsx)
- Accessibility: Partial - some ARIA labels present, missing skip links and keyboard focus indicators
- SEO: Missing meta tags and Open Graph
- Analytics: Not configured
- Production: Base URL configurable via env var

**Target State:**
- Clean lint (0 errors)
- WCAG 2.1 AA compliant (keyboard nav, screen reader support)
- SEO-ready with meta tags and Open Graph
- Production-optimized build
- Ready for deployment

**Design Decisions:**
- Focus states: High-contrast outline, brutalist style (thick, visible)
- Skip link: Hidden until focused, brutalist styling
- Lazy loading: React.lazy for below-fold sections
- Meta: Minimal but complete (title, description, OG basics)

## Tasks

### T1: Fix Lint Error in DemoAgent
**Type:** fix
**Files:** `src/components/demo/DemoAgent.jsx`

Fix the unused variable error:
- Line 30: `currentToolCall` is assigned but never used
- Option 1: Prefix with underscore `_currentToolCall`
- Option 2: Remove from destructuring if truly unused in future plans

Choose based on whether the variable will be used for tool call display.

**Verification:**
- `npm run lint` passes with 0 errors

---

### T2: Add Skip Link for Keyboard Navigation
**Type:** feat
**Files:** `src/App.jsx`, `src/index.css`

Add skip-to-content link for keyboard users:
- Hidden until focused (sr-only when not focused)
- Brutalist styling when visible (white bg, black text, thick border)
- Links to main content (`#main-content`)
- Add `id="main-content"` to main content wrapper

**Verification:**
- Tab key shows skip link as first focusable element
- Skip link navigates to main content
- Visible styling matches design system

---

### T3: Add ARIA Labels to Interactive Elements
**Type:** feat
**Files:** `src/components/Header.jsx`, `src/components/Footer.jsx`, `src/components/VoiceDemo.jsx`, `src/components/ConsultationForm.jsx`

Add missing ARIA attributes:
- Header: Add `aria-label="Main navigation"` to nav
- Header: Add `aria-label` to logo link ("StrataBlue home")
- Footer: Add `aria-label="Footer"` to footer element
- VoiceDemo: Ensure all interactive elements have labels
- ConsultationForm: Add `aria-describedby` for error messages
- Add `role="main"` to main content area

**Verification:**
- Screen reader announces all interactive elements correctly
- No accessibility warnings in browser dev tools

---

### T4: Improve Focus States Across Site
**Type:** feat
**Files:** `src/index.css`, `tailwind.config.js`

Add visible focus indicators:
- Define focus ring utility: `focus-brutal` class
- Apply to all interactive elements (links, buttons, inputs)
- High contrast: white outline with offset on dark bg
- Ensure focus is visible on all color backgrounds

Focus ring spec:
```css
.focus-brutal:focus-visible {
  outline: 3px solid white;
  outline-offset: 2px;
}
```

**Verification:**
- Tab through all interactive elements
- Focus ring clearly visible on each
- Works on both light and dark backgrounds

---

### T5: Add SEO Meta Tags
**Type:** feat
**Files:** `index.html`

Add essential meta tags:
- Title: "StrataBlue AI | AI Voice Agents for Revenue & Service"
- Description: Compelling 155-char description
- Open Graph: title, description, type, url, image
- Twitter card: summary_large_image
- Canonical URL placeholder (use env var pattern)
- Viewport already present

OG Image: Use existing logo or placeholder path for now.

**Verification:**
- View page source shows all meta tags
- Social preview works (test with dev tools or validator)

---

### T6: Add Lazy Loading for Below-Fold Sections
**Type:** perf
**Files:** `src/App.jsx`

Implement React.lazy for sections below the fold:
- Keep Header, Hero synchronous (above fold)
- Lazy load: UseCases, HowItWorks, Stats, FinalCTA, Footer
- Add Suspense with minimal loading fallback
- Preserve VoiceDemo as sync (critical for engagement)

Loading fallback: Simple div with min-height to prevent layout shift.

**Verification:**
- Initial bundle size reduced
- No visible loading flicker on fast connections
- All sections render correctly after lazy load

---

### T7: Add Production Build Configuration
**Type:** chore
**Files:** `vite.config.js`, `.env.example`, `package.json`

Optimize production build:
- Add build analysis script: `npm run build:analyze`
- Configure chunk splitting for better caching
- Update .env.example with production variables
- Add `VITE_SITE_URL` for canonical URLs
- Ensure sourcemaps are production-appropriate

Update .env.example:
```
VITE_BASE_URL=/
VITE_SITE_URL=https://stratablue.ai
```

**Verification:**
- `npm run build` succeeds
- Bundle chunks are reasonably sized
- No secrets in built output

---

### T8: Add Basic Analytics Hooks (Prep)
**Type:** feat
**Files:** `src/hooks/useAnalytics.js` (new), `src/App.jsx`

Create analytics foundation (no provider yet):
- Create `useAnalytics` hook with track/identify stubs
- Add page view tracking on mount
- Add demo engagement events (mode change, interaction)
- Console.log in dev, no-op in production until provider added

Events to track:
- `page_view`: on app mount
- `demo_mode_change`: when demo switches modes
- `form_submit`: when consultation form submitted
- `cta_click`: on main CTA clicks

**Verification:**
- Dev console shows event logs
- No errors in production build
- Ready to connect real analytics provider

## Verification

After all tasks:
1. `npm run lint` - 0 errors
2. `npm run build` - succeeds, note bundle size
3. Lighthouse audit - aim for 90+ accessibility score
4. Keyboard navigation test - tab through entire page
5. Screen reader test (optional) - VoiceOver or NVDA basics

## Success Criteria

- [ ] Lint passes with 0 errors
- [ ] Skip link works for keyboard users
- [ ] All interactive elements have ARIA labels
- [ ] Focus states visible on all focusable elements
- [ ] Meta tags and Open Graph configured
- [ ] Lazy loading implemented for below-fold content
- [ ] Production build optimized
- [ ] Analytics hooks ready for provider integration
- [ ] Lighthouse accessibility score 90+

## Output

- Fixed DemoAgent.jsx lint error
- Skip link in App.jsx
- ARIA labels across components
- Focus state utilities in CSS
- SEO meta tags in index.html
- Lazy loading in App.jsx
- Updated vite.config.js and .env.example
- New useAnalytics hook
- 8 commits (one per task)

## Notes

**Post-Launch Items (not in this plan):**
- Real analytics provider integration (GA4, Plausible, etc.)
- Form backend connection (Plan 06-02)
- AI demo backend connection (Plan 05-02)
- Performance monitoring (Core Web Vitals)
- A/B testing setup

**Browser Support:**
- Modern evergreen browsers (Chrome, Firefox, Safari, Edge)
- No IE11 support required
