# Phase 2: Design System — Plan

## Objective

Establish a brutalist design token system and extract inline styles into reusable Tailwind utilities. After this phase, all styling will be token-based, components will use consistent design patterns, and the codebase will be free of inline `style={{}}` props and DOM manipulation for hover states.

## Prerequisites

- Phase 1 complete (✅)
- Development environment working
- Understanding of current inline style patterns

## Design Philosophy

### Brutalist Principles for This Project
Brutalism isn't about being ugly—it's about **honesty, function, and raw materials**. For a dark-mode AI tech site:

1. **Typography-Forward**: Large, bold type as the primary visual element. No ornamental flourishes.
2. **High Contrast**: Pure white on near-black creates visual punch. Use color sparingly for emphasis.
3. **Visible Structure**: Grid systems that feel intentional. Spacing that breathes.
4. **Functional Animation**: Motion that communicates state (thinking, loading, success) not decoration.
5. **Raw Materials**: Monospace for data/code, system-like visual language, honest interactions.

### Dark Mode Accessibility Audit
Current contrast analysis (WCAG AA requires 4.5:1 for body, 3:1 for large text):

| Element | Current | Contrast vs #030712 | Status |
|---------|---------|---------------------|--------|
| Body text | slate-400 (#94a3b8) | 6.5:1 | ✅ Pass |
| Secondary text | slate-500 (#64748b) | 4.1:1 | ⚠️ Borderline |
| Brand blue | #00ABE2 | 5.2:1 | ✅ Pass |
| White text | #ffffff | 18.3:1 | ✅ Pass |

**Recommendation**: Keep slate-400 for body text. Use slate-500 only for non-essential text.

### Animation Philosophy
Motion should be **purposeful, not performative**:

| Animation | Purpose | Respect prefers-reduced-motion |
|-----------|---------|-------------------------------|
| Glow pulse | Draws attention to CTAs | Can be subtle/static |
| Waveform | Shows audio state | Essential - keep minimal |
| Aurora background | Ambiance | Non-essential - disable |
| Hover transitions | Feedback | Keep fast (150-200ms) |

## Discovery Summary

### Current State
- **Tailwind config**: Basic colors (brand-blue, brand-blue-dark, void), fonts (Outfit, JetBrains Mono), some animations
- **index.css**: CSS variables in `:root`, custom components (.glass-card, .aurora-bg, .shadow-brutal)
- **Components**: 20+ instances of inline `style={{}}` and 4 instances of onMouseEnter/onMouseLeave DOM manipulation

### Patterns to Consolidate
1. **Text shadow glow**: `textShadow: '0 0 60px rgba(0, 171, 226, 0.3)'` (used in all section h2s)
2. **Text shadow glow strong**: `textShadow: '0 0 40-80px rgba(0, 171, 226, 0.5)'` (used in stats, hero h1)
3. **Box shadow glow**: `boxShadow: '0 0 20-30px rgba(0, 171, 226, 0.3-0.4)'` (CTAs, buttons)
4. **Box shadow glow hover**: `boxShadow: '0 0 40-50px rgba(0, 171, 226, 0.5-0.6)'` (hover states)
5. **Waveform delays**: Dynamic `animationDelay` values in VoiceDemo

---

## Tasks

### Task 1: Define Brutalist Spacing & Border Tokens

**Goal**: Establish spacing rhythm and border utilities that reinforce brutalist aesthetic

**File**: `tailwind.config.js`

**Rationale**: Brutalist design uses intentional, often generous spacing and bold borders/dividers.

**Add to theme.extend**:
```js
// Brutalist spacing - based on 8px rhythm with large section padding
spacing: {
  '18': '4.5rem',   // 72px - section padding
  '22': '5.5rem',   // 88px
  '30': '7.5rem',   // 120px - large section spacing
},

// Brutalist borders - heavier than default
borderWidth: {
  '3': '3px',
},
```

**File**: `src/index.css`

**Add to @layer utilities**:
```css
/* Brutalist dividers */
.divider-brutal {
  @apply h-px bg-gradient-to-r from-transparent via-white/10 to-transparent;
}

.divider-brutal-vertical {
  @apply w-px bg-gradient-to-b from-transparent via-white/10 to-transparent;
}
```

**Verification**: Spacing and border tokens available

---

### Task 2: Define Text Shadow Utilities

**Goal**: Create Tailwind utilities for brand glow text effects

**File**: `tailwind.config.js`

**Add to theme.extend**:
```js
textShadow: {
  'none': 'none',
  'glow': '0 0 60px rgba(0, 171, 226, 0.3)',
  'glow-strong': '0 0 80px rgba(0, 171, 226, 0.5)',
  'glow-stat': '0 0 40px rgba(0, 171, 226, 0.5)',
},
```

**File**: `src/index.css`

**Add plugin in @layer utilities**:
```css
@layer utilities {
  .text-shadow-none { text-shadow: none; }
  .text-shadow-glow { text-shadow: 0 0 60px rgba(0, 171, 226, 0.3); }
  .text-shadow-glow-strong { text-shadow: 0 0 80px rgba(0, 171, 226, 0.5); }
  .text-shadow-glow-stat { text-shadow: 0 0 40px rgba(0, 171, 226, 0.5); }
}
```

**Verification**: Classes available in Tailwind IntelliSense (if applicable)

---

### Task 3: Define Box Shadow Glow Utilities

**Goal**: Create Tailwind utilities for button/element glow effects with hover variants

**File**: `src/index.css`

**Add to @layer utilities**:
```css
/* Glow shadows for buttons and interactive elements */
.shadow-glow { box-shadow: 0 0 20px rgba(0, 171, 226, 0.3); }
.shadow-glow-md { box-shadow: 0 0 30px rgba(0, 171, 226, 0.4); }
.shadow-glow-lg { box-shadow: 0 0 40px rgba(0, 171, 226, 0.5); }
.shadow-glow-xl { box-shadow: 0 0 50px rgba(0, 171, 226, 0.6); }

/* Hover variants */
.hover\:shadow-glow:hover { box-shadow: 0 0 20px rgba(0, 171, 226, 0.3); }
.hover\:shadow-glow-md:hover { box-shadow: 0 0 30px rgba(0, 171, 226, 0.4); }
.hover\:shadow-glow-lg:hover { box-shadow: 0 0 40px rgba(0, 171, 226, 0.5); }
.hover\:shadow-glow-xl:hover { box-shadow: 0 0 50px rgba(0, 171, 226, 0.6); }
```

**Verification**: Hover effects work via pure CSS

---

### Task 4: Define Waveform Animation Delay Classes

**Goal**: Create utility classes for staggered animation delays used in waveform visualizations

**File**: `src/index.css`

**Add to @layer utilities**:
```css
/* Animation delays for waveform visualization (0-1.5s in 0.1s steps) */
.delay-0 { animation-delay: 0s; }
.delay-100 { animation-delay: 0.1s; }
.delay-200 { animation-delay: 0.2s; }
.delay-300 { animation-delay: 0.3s; }
.delay-400 { animation-delay: 0.4s; }
.delay-500 { animation-delay: 0.5s; }
.delay-600 { animation-delay: 0.6s; }
.delay-700 { animation-delay: 0.7s; }
.delay-800 { animation-delay: 0.8s; }
.delay-900 { animation-delay: 0.9s; }
.delay-1000 { animation-delay: 1s; }
.delay-1100 { animation-delay: 1.1s; }
.delay-1200 { animation-delay: 1.2s; }
.delay-1300 { animation-delay: 1.3s; }
.delay-1400 { animation-delay: 1.4s; }

/* Waveform bar heights */
.h-waveform-sm { height: 20px; }
.h-waveform-md { height: 28px; }
.h-waveform-lg { height: 36px; }
```

**Verification**: Animation delays work on waveform bars

---

### Task 5: Refactor Hero.jsx

**Goal**: Replace all inline styles and DOM manipulation with Tailwind utilities

**File**: `src/components/Hero.jsx`

**Changes**:
1. Line 27: Replace `style={{textShadow: '...'}}` with `className="text-shadow-glow-strong"`
2. Lines 43, 51, 59: Replace `style={{textShadow: '...'}}` with `className="text-shadow-glow-stat"`
3. Line 71: Replace `style={{boxShadow: '...'}}` with `className="shadow-glow"`
4. Lines 72-73: Remove `onMouseEnter`/`onMouseLeave` handlers, add `hover:shadow-glow-lg transition-shadow`

**Verification**: Hero section renders correctly, hover glow works via CSS

---

### Task 6: Refactor VoiceDemo.jsx

**Goal**: Replace inline styles with Tailwind utilities

**File**: `src/components/VoiceDemo.jsx`

**Changes**:
1. Line 17: Replace `style={{textShadow: '...'}}` with `className="text-shadow-glow"`
2. Lines 63-66: Replace inline `style={{height, animationDelay}}` with utility classes
   - Create array of delay/height class combinations
   - Example: `className="w-1 bg-brand-blue rounded-full animate-waveform h-waveform-sm delay-0"`
3. Lines 77, 143: Replace `style={{boxShadow: '...'}}` with `className="shadow-glow"`

**Refactored waveform pattern**:
```jsx
const waveformBars = [
  { height: 'h-waveform-sm', delay: 'delay-0' },
  { height: 'h-waveform-md', delay: 'delay-100' },
  { height: 'h-waveform-lg', delay: 'delay-200' },
  // ... etc
];

{waveformBars.map((bar, i) => (
  <div key={i} className={`w-1 bg-brand-blue rounded-full animate-waveform ${bar.height} ${bar.delay}`} />
))}
```

**Verification**: Waveform animations work correctly

---

### Task 7: Refactor Stats.jsx

**Goal**: Replace inline styles with Tailwind utilities

**File**: `src/components/Stats.jsx`

**Changes**:
1. Line 35: Replace `style={{textShadow: '...'}}` with `className="text-shadow-glow"`
2. Line 51: Replace `style={{textShadow: '...'}}` with `className="text-shadow-glow-stat"`

**Verification**: Stats section renders correctly with glow effects

---

### Task 8: Refactor HowItWorks.jsx

**Goal**: Replace inline styles and DOM manipulation with Tailwind utilities

**File**: `src/components/HowItWorks.jsx`

**Changes**:
1. Line 48: Replace `style={{textShadow: '...'}}` with `className="text-shadow-glow"`
2. Line 71: Replace `style={{boxShadow: '...'}}` with `className="shadow-glow"`
3. Lines 97-99: Remove `style` and `onMouseEnter`/`onMouseLeave`, add `shadow-glow hover:shadow-glow-lg transition-shadow`

**Verification**: HowItWorks section renders correctly, hover effects work

---

### Task 9: Refactor FinalCTA.jsx

**Goal**: Replace inline styles and DOM manipulation with Tailwind utilities

**File**: `src/components/FinalCTA.jsx`

**Changes**:
1. Line 11: Replace `style={{textShadow: '...'}}` with `className="text-shadow-glow"`
2. Lines 23-25: Remove `style` and `onMouseEnter`/`onMouseLeave`, add `shadow-glow-md hover:shadow-glow-xl transition-shadow`

**Verification**: FinalCTA section renders correctly, hover glow transitions work

---

### Task 10: Refactor UseCases.jsx

**Goal**: Replace inline text shadow style with utility

**File**: `src/components/UseCases.jsx`

**Changes**:
1. Line 64: Replace `style={{textShadow: '...'}}` with `className="text-shadow-glow"`

**Verification**: UseCases section renders correctly

---

### Task 11: Define Typography Scale

**Goal**: Establish consistent typography hierarchy with Tailwind utilities

**File**: `src/index.css`

**Add to @layer components**:
```css
/* Typography - Section Headers */
.heading-section {
  @apply text-4xl lg:text-5xl font-bold text-white text-shadow-glow;
}

/* Typography - Hero */
.heading-hero {
  @apply text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-[1.1] tracking-tight text-shadow-glow-strong;
}

/* Typography - Card Titles */
.heading-card {
  @apply text-2xl font-semibold text-white;
}

/* Typography - Overlines/Labels */
.overline {
  @apply text-xs font-semibold text-brand-blue uppercase tracking-wider;
}

/* Typography - Body */
.body-lg {
  @apply text-xl text-slate-400 leading-relaxed;
}

.body-md {
  @apply text-base text-slate-400 leading-relaxed;
}
```

**Verification**: Typography classes are available and documented

---

### Task 12: Create Design Tokens Documentation

**Goal**: Document the design system for future consistency

**File**: `src/styles/DESIGN-TOKENS.md`

**Content**: Document all design tokens including:
- Color palette (brand colors, semantic colors, slate scale)
- Typography (font families, sizes, weights)
- Spacing (standard Tailwind scale usage patterns)
- Shadows (glow utilities, brutal shadows)
- Animations (timing, easing, available animations)
- Component patterns (glass cards, overlines, buttons)

**Verification**: Documentation file exists and is comprehensive

---

### Task 13: Add Reduced Motion Support

**Goal**: Respect user preferences for reduced motion (accessibility)

**File**: `src/index.css`

**Add to @layer base or utilities**:
```css
/* Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  /* Keep essential state indicators */
  .animate-ping {
    animation: none !important;
    opacity: 1 !important;
  }

  /* Disable decorative animations */
  .aurora-bg::before,
  .aurora-bg::after {
    animation: none !important;
  }

  .bg-orbs .orb {
    animation: none !important;
  }
}
```

**Rationale**: Brutalist design is honest about user preferences. Motion should serve function, not overwhelm.

**Verification**: Test with `prefers-reduced-motion: reduce` in browser dev tools

---

### Task 14: Final Verification

**Goal**: Confirm all changes work together and no inline styles remain

**Actions**:
1. Run `npm run dev` - Verify site runs without errors
2. Run `npm run build` - Verify production build succeeds
3. Search for `style={{` in components - Should return 0 results (except legitimate uses)
4. Search for `onMouseEnter.*style` - Should return 0 results
5. Visually verify all glow effects and hover states work correctly
6. Run `npm run lint` - Fix any linting issues

**Verification**: All checks pass, site looks correct

---

## Verification Checklist

- [ ] Brutalist spacing & border tokens defined
- [ ] Text shadow utilities defined and working
- [ ] Box shadow glow utilities with hover variants defined
- [ ] Animation delay utilities defined
- [ ] Hero.jsx refactored (0 inline styles)
- [ ] VoiceDemo.jsx refactored (0 inline styles)
- [ ] Stats.jsx refactored (0 inline styles)
- [ ] HowItWorks.jsx refactored (0 inline styles, no DOM manipulation)
- [ ] FinalCTA.jsx refactored (0 inline styles, no DOM manipulation)
- [ ] UseCases.jsx refactored (0 inline styles)
- [ ] Typography scale documented as utility classes
- [ ] Design tokens documented
- [ ] Reduced motion support added
- [ ] `npm run build` succeeds
- [ ] All visual effects preserved
- [ ] Contrast ratios verified (WCAG AA)

## Success Criteria

1. Zero inline `style={{}}` props in component files (for styling that can be tokenized)
2. Zero `onMouseEnter`/`onMouseLeave` DOM manipulation for hover effects
3. All design tokens defined in Tailwind config or index.css utilities
4. Typography hierarchy follows brutalist principles (bold, functional, high contrast)
5. Animation respects `prefers-reduced-motion`
6. Design system documentation created
7. WCAG AA contrast ratios maintained or improved
8. Site visually identical to before (no regressions)

## Output

After completing this phase:
- Update `.planning/STATE.md` to mark Phase 2 complete
- Commit with message: `feat(02-design-system): establish design tokens and refactor inline styles`
- Phase 2 directory updated with SUMMARY.md
- Ready to begin Phase 3: Section Redesign

---
*Created: 2026-01-11*
