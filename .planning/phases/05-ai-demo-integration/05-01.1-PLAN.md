# Plan 05-01.1: Demo UI Refinements

## Objective

Polish the demo UI from Phase 5-01 to feel more like a native chat experience. This is a refinement pass focused on visual polish and demonstration variety—no new functionality or architecture changes.

## Execution Context

**Phase**: 5 — AI Demo Integration
**Scope**: Small (5 tasks)
**Dependencies**: Phase 5-01 complete (demo architecture in place)

**Key Files to Modify:**
- `src/index.css` — Add custom scrollbar styles
- `src/components/demo/ConversationTranscript.jsx` — Bottom-anchored chat, avatar icons
- `src/components/demo/DemoController.jsx` — Rotating tool call scenarios

**Reference:**
- `.planning/phases/05-01.1-CONTEXT.md` — Vision and requirements
- `.planning/phases/05-ai-demo-integration/05-01-SUMMARY.md` — Current component inventory

## Context

### Current State
- ConversationTranscript uses default browser scrollbars
- Messages fill from top-down (not like modern chat apps)
- No visual distinction between agent and caller avatars
- Each agent has only one simulated conversation scenario
- Tool call examples are limited (only `fetch_pricing` and `lookup_order`)

### Target State
- Dark, thin scrollbars matching brutalist aesthetic
- Bottom-anchored chat where new messages appear at bottom
- Avatar icons for agents (bot) and callers (person)
- Multiple rotating scenarios per agent showcasing different tool calls
- Demonstrates agents DOING things (CRM lookups, scheduling, refunds, etc.)

### Design Constraints
- Revenue Agent: brand-blue accent
- Service Agent: white accent
- Must use brutalist design tokens (no rounded corners, hard shadows)
- Must respect prefers-reduced-motion
- No new npm dependencies

## Tasks

### 1. Add custom scrollbar CSS
**Commit scope**: styles only

Add custom scrollbar styles to `src/index.css` that match the dark brutalist aesthetic:
- Dark thumb color (slate-700 or similar)
- Transparent/dark track
- Thin width (~6px)
- Works in Chrome/Safari (webkit) and Firefox

Update `ConversationTranscript.jsx` to remove non-functional Tailwind scrollbar classes and use the new CSS class.

**Files**:
- `src/index.css`
- `src/components/demo/ConversationTranscript.jsx`

---

### 2. Implement bottom-anchored chat layout
**Commit scope**: layout change

Modify `ConversationTranscript.jsx` to behave like modern chat apps:
- New messages appear at the bottom of the visible area
- Conversation scrolls upward as it grows
- Most recent exchange is always visible without scrolling
- Use `flex-col-reverse` with reversed message array, or adjust scroll behavior

Ensure auto-scroll still works correctly for streaming messages.

**Files**: `src/components/demo/ConversationTranscript.jsx`

---

### 3. Add avatar icons to message bubbles
**Commit scope**: new visual element

Add minimalist avatar icons to ConversationTranscript:
- **Agent messages**: Bot/AI icon (circuit/bot silhouette)
- **Caller messages**: Person/user icon
- Position: left side of agent bubbles, right side of user bubbles
- Color-coded by accent (brand-blue for revenue, white for service)
- Size: small (16-20px), post-modern/minimal style
- Use inline SVG for performance

**Files**: `src/components/demo/ConversationTranscript.jsx`

---

### 4. Create rotating tool call scenarios
**Commit scope**: content + logic

Expand SIMULATED_SCRIPTS in DemoController to include multiple scenarios per agent. Each scenario shows a different tool call capability:

**Revenue Agent (Alex AI)** — 3-4 scenarios rotating:
1. Pricing lookup (`fetch_pricing`)
2. CRM customer lookup (`lookup_customer`)
3. Schedule demo call (`schedule_meeting`)
4. Send quote/proposal (`send_quote`)

**Service Agent (Sarah AI)** — 3-4 scenarios rotating:
1. Order status lookup (`lookup_order`)
2. Shipping/tracking check (`check_shipping`)
3. Process refund (`process_refund`)
4. Create support ticket (`create_ticket`)

Add rotation logic so each page load or demo cycle shows a different scenario. Tool calls should be visible in the UI to demonstrate agent capabilities.

**Files**: `src/components/demo/DemoController.jsx`

---

### 5. Build and lint verification
**Commit scope**: fixes only

- Run `npm run lint` and `npm run build`
- Fix any errors or warnings
- Visual verification in dev server

**Files**: As needed for fixes

---

## Verification

```bash
# All checks must pass
npm run lint
npm run build

# Manual verification
npm run dev
# - Scrollbars should be dark/thin in conversation area
# - New messages should appear at bottom
# - Avatar icons visible next to messages
# - Refresh page to see different tool call scenarios
# - Test with prefers-reduced-motion enabled
```

## Success Criteria

- [ ] Scrollbars styled dark and thin, matching brutalist aesthetic
- [ ] Chat flow is bottom-anchored (newest messages at bottom)
- [ ] Avatar icons distinguish agents from callers visually
- [ ] Each agent has 3-4 rotating scenarios with different tool calls
- [ ] Tool calls demonstrate variety: pricing, CRM, scheduling, refunds, etc.
- [ ] Revenue/Service color differentiation maintained
- [ ] Build and lint pass with no errors

## Output

On completion, create `05-01.1-SUMMARY.md` with:
- Tasks completed with commit hashes
- Visual changes made
- Rotating scenarios inventory
- Any deviations from plan

## Notes

### Scope Boundaries
This plan intentionally does NOT include:
- Backend integration (Phase 5-02)
- New demo flows or states
- Layout restructuring of the two-card layout
- Real voice/AI integration

### Avatar Design Guidance
Keep icons minimal and geometric:
- Bot: Simple circuit pattern or robot silhouette
- User: Basic person/head silhouette
- No realistic faces or detailed illustrations
- Solid fill, not outlined

---
*Created: 2026-01-13*
